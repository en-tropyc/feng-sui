# Feng-Sui Network Tests

This directory contains comprehensive tests for the Feng-Sui Network service.

## Test Organization

### Unit Tests (`/unit/`)
- **FalconCrypto.test.js** - Tests for Falcon signature verification and aggregation
- **TransactionQueue.test.js** - Tests for transaction queuing and batching logic
- **BatchProcessor.test.js** - Tests for batch processing and settlement coordination
- **SuiSettlement.test.js** - Tests for Sui blockchain integration

### Integration Tests
- **integration.test.js** - Tests for API endpoint integration with libas
- **transaction-flow.test.js** - Tests for complete transaction submission flow

### End-to-End Tests
- **phase2b-end-to-end.test.js** - Complete Phase 2B workflow testing including:
  - Multi-user transaction creation
  - Automatic batching
  - Signature aggregation
  - Settlement simulation
  - Status tracking

## Running Tests

```bash
# Run all tests
npm test

# Run only unit tests
npm run test:unit

# Run integration tests
npm run test:integration

# Run end-to-end tests
npm run test:e2e

# Run tests in watch mode
npm run test:watch

# Run tests with coverage
npm run test:coverage
```

## Test Requirements

- **libas** - Falcon signature library must be available at `../libas`
- **Jest** - Testing framework for unit and integration tests
- **Running server** - E2E tests require the Feng-Sui Network server to be running

## Test Data

Tests use real Falcon key pairs and signatures generated by libas to ensure authentic post-quantum cryptography testing.

## Coverage Goals

- **Unit Tests**: >90% coverage for core components
- **Integration Tests**: All API endpoints tested
- **E2E Tests**: Complete user workflows validated 
